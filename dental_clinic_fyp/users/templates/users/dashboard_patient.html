{% extends "users/base.html" %}
{% block title %}Book Appointment{% endblock %}

{% block content %}
<div class="container mt-4">
  {% if messages %}
  {% for message in messages %}
    {% if message.tags == 'error' %}
      <div class="alert alert-danger mb-2 p-2" role="alert" style="border-radius: 8px;">
        {{ message }}
      </div>
    {% elif message.tags == 'success' %}
      <div class="alert alert-success mb-2 p-2" role="alert" style="border-radius: 8px;">
        {{ message }}
      </div>
    {% elif message.tags == 'warning' %}
      <div class="alert alert-warning mb-2 p-2" role="alert" style="border-radius: 8px;">
        {{ message }}
      </div>
    {% elif message.tags == 'info' %}
      <div class="alert alert-info mb-2 p-2" role="alert" style="border-radius: 8px;">
        {{ message }}
      </div>
    {% else %}
      <div class="alert alert-primary mb-2 p-2" role="alert" style="border-radius: 8px;">
        {{ message }}
      </div>
    {% endif %}
  {% endfor %}
{% endif %}


  <h3>Book Appointment </h3>

  <!-- Appointment booking form -->
  <form method="post" action="{% url 'appointments:create_appointment' %}">
    {% csrf_token %}
    <div class="mb-3">
      <label>Doctor</label>
      <select name="doctor" class="form-control" required>
        <option value="" selected disabled>Select a Doctor</option>
        {% for doctor in doctors %}
          <option value="{{ doctor.id }}"> {{ doctor.user.username }}</option>
        {% endfor %}
      </select>
    </div>
    
      <label>Appointment Date</label>
      <input type="date" name="date" class="form-control" required>
    </div>
    <div class="mb-3">
      <label>Appointment Time</label>
      <input type="time" name="time" class="form-control" required>
    </div>
    <div class="mb-3">
      <label>Notes</label>
      <textarea name="notes" class="form-control" rows="2"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Book Appointment</button>
  </form>
  

  
  {% endblock %}