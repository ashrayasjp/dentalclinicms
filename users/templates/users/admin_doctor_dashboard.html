{% extends "users/base.html" %}
{% block title %}Doctor Overview{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 900px;">

    <!-- Purple Velvet Header -->
    <div class="doctor-header d-flex align-items-center mb-4 p-4 rounded-4 shadow-sm">

        <!-- Profile Image -->
        <img src="{{ doctor.profile_picture.url|default:'/static/images/default_profile.png' }}" 
             alt="Doctor Photo"
             class="doctor-photo rounded-circle me-4">

        <div>
            <h1 class="doctor-name mb-1">
                Doctor â€” {{ doctor.user.get_full_name }}
            </h1>

            <p class="doctor-specialization mb-0">
                {{ doctor.specialization|default:"Specialization not provided" }}
            </p>
        </div>
    </div>

    <!-- Doctor Details -->
    <div class="card shadow-sm border-0 mb-4">
        <div class="card-body">
            <h5 class="fw-semibold mb-3 doctor-details-title">
                Doctor Details
            </h5>

            <p><strong>Full Name:</strong> {{ doctor.user.get_full_name }}</p>
            <p><strong>Email:</strong> {{ doctor.user.email }}</p>
            <p><strong>Phone:</strong> {{ doctor.user.phone_number|default:"Not Provided" }}</p>
            <p><strong>Specialization:</strong> {{ doctor.specialization|default:"Not Provided" }}</p>
            <p><strong>Degree:</strong> {{ doctor.degree|default:"Not Provided" }}</p>

            <!-- Identity Document -->
            <p>
                <strong>Identity Document:</strong><br>
                {% if doctor.identity_document %}
                {% if ".pdf" in doctor.identity_document.url|lower %}
                    <embed src="{{ doctor.identity_document.url }}" type="application/pdf" width="100%" height="400px">
                {% else %}
                    <img src="{{ doctor.identity_document.url }}" alt="ID Document" style="max-width:100%; height:auto; border:1px solid #ccc; border-radius:4px;">
                {% endif %}
            {% else %}
                <span class="text-muted">No identity document uploaded.</span>
            {% endif %}
            
            </p>

            <p><strong>Bio:</strong><br>
                {{ doctor.bio|default:"No bio available." }}
            </p>
        </div>
    </div>

    <!-- Doctor's Dashboard Content (Appointments etc.) -->
    {% include "users/doctor_dashboard_content.html" %}
</div>

<!-- Fonts & Styling -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Poppins:wght@400;500;600&display=swap');

.doctor-header {
    background: linear-gradient(135deg, #4c1c78, #6a2ca0, #8a3cc7);
    color: white;
    border: 2px solid #d3b2ff;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
}

.doctor-photo {
    width: 90px;
    height: 90px;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.doctor-name {
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    font-size: 1.8rem;
    letter-spacing: 0.5px;
    text-shadow: 0.8px 0.8px 2px rgba(0,0,0,0.2);
    margin-bottom: 0.2rem;
}

.doctor-specialization {
    font-family: 'Poppins', sans-serif;
    font-size: 1.05rem;
    font-weight: 500;
    opacity: 0.9;
}

.doctor-details-title {
    color: #5a189a;
    font-family: 'Poppins', sans-serif;
    font-size: 1.15rem;
}

.card-body p {
    font-size: 1rem;
    margin-bottom: 8px;
    font-family: 'Poppins', sans-serif;
}
</style>
{% endblock %}
